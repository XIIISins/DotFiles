#!/usr/local/bin/bash
#
# Soundcloud MPD wrapper for Bash
# Example URL: https://soundcloud.com/xiiisins/sets/ind
#
MPC=`which mpc`
LOAD_CMD="$MPC load"
URL=$1

if [ -z $URL ]; then
    echo -e "No URL specified."
    echo -e "Usage: $0 https://soundcloud.com/xiiisins/sets/ind"
    exit 1
fi

N_URL=`echo -e "$URL" | sed -r 's/^.{23}//'`
S_URL=`echo soundcloud://url/soundcloud.com/$N_URL`

echo "Loading Playlist"
$LOAD_CMD $S_URL